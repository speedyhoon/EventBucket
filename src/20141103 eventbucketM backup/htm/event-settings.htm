{{$id := .Id}}{{$allEventGrades := .AllEventGrades}}<h1>{{.Title}}: {{.EventName}}</h1>{{HTM .menu}}{{HTM .FormNewEvent}}{{HTM .isPrizemeeting}}{{/*HTM .ChangeName}}{{HTM .AddDate*/}}{{Fieldset "Ranges &amp; Aggregates"}}{{if.ListRanges}}<table><tr><th>Range Id</th><th>Name</th>{{/*if .ListShooters}}<th>Start Shooting</th><th>Total Scores</th>{{end*/}}<th>Aggregate Ranges</th><th>Hide</th><th>Lock</th><th></th></tr>{{range $key, $value := .ListRanges}}{{with $value}}<tr><td>{{$key}}</td><td><input name=name value={{.Name}} form=range{{$key}}></td><td>{{with .Aggregate}}{{HTM .}}{{end}}</td><td>{{if not .Hidden}}<input type=checkbox name=hide form=range{{$key}}>{{else}}<input type=checkbox name=hide form=range{{$key}} checked>{{end}}</td><td>{{if not .Aggregate}}{{if not .Locked}}<input type=checkbox name=lock form=range{{$key}}>{{else}}<input type=checkbox name=lock form=range{{$key}} checked>{{end}}{{end}}</td>{{/* /{{$id}}/{{$key}}   */}}<td><form id=range{{$key}} method=post action=/updateRange><button>Save</button><input name=event_id type=hidden value={{$id}}><input name=range_id type=hidden value={{$key}}></form></td></tr>{{end}}{{end}}</table>{{end}}{{HTM .AddRange}}{{if .AddAgg}}{{HTM .AddAgg}}{{end}}{{EndFieldset}}{{/*HTM .SortScoreboard*/}}{{/*HTM .EventGrades*/}}{{/*{{Fieldset "Ranges Shots &amp; Sighters"}}<form method=post action=/eventShotsNSighters><input type=hidden name=event_id value={{.Id}}><table><tr><th>Range Name</th><th>Class</td><th>Sighters</td><th>Shots</th></tr>{{range $key, $value := .ListRanges}}{{if eq $value.Aggregate ""}}{{if ne $key "1"}}<tr><td colspan=4>&nbsp;</td></tr>{{end}}<tr><td rowspan=3>{{$value.Name}}</td>{{range $class_id, $class := $allEventGrades}}<td>{{$class.Display}}</td><td><input name=sight[{{$key}}][{{$class_id}}] type=number required min=0 step=1 max=10 value={{$class.SightersQty}}></td><td><input name=shots[{{$key}}][{{$class_id}}] type=number required min=1 step=1 max=100 value={{$class.ShotsQty}}></td></tr>{{end}}{{end}}{{end}}</table><button>Save</button></form>{{EndFieldset}}*/}}{{Fieldset "Ranges Shots &amp; Sighters"}}<form method=post action=/eventShotsNSighters><input type=hidden name=event_id value={{.Id}}><table><tr><!--<th rowspan=2>Range Name</th>--><th rowspan=2>Class</td>{{range $key, $value := .ListRanges}}{{if eq $value.Aggregate ""}}<th colspan=2>{{$value.Name}}</th><td rowspan=5>&nbsp;&nbsp;&nbsp;</td>{{end}}{{end}}</tr><tr>{{range $key, $value := .ListRanges}}{{if eq $value.Aggregate ""}}<td>Sighters</td><td>Shots</td>{{end}}{{end}}</tr>{{range $class_id, $class := $allEventGrades}}<tr><td>{{$class.Display}}</td>{{range $key, $value := $.ListRanges}}{{if eq $value.Aggregate ""}}<td><input type=number value=2  style=width:50px></td><!--  --><td><input type=number value=10 style=width:50px></td><!--  -->{{end}}{{end}}</tr>{{end}}</table><button>Save</button></form>{{EndFieldset}}<!--{{Fieldset "Ranges Shots &amp; Sighters"}}<table><tr><th rowspan=2></th><th rowspan=2>Enable</th><th rowspan=2>Badges</th>{{range $key, $value := .ListRanges}}<th colspan=2>{{$value.Name}}</th>{{end}}</tr><tr>{{range $key, $value := .ListRanges}}<th>Sighters</th><th>Shots</th>{{end}}</tr>{{range $range_id, $range := .ListGrades}}<tr><td>{{$range}}</td><td><input type=checkbox></td><th><input type=number value=3 style=width:50px></th>{{range $key, $value := $.ListRanges}}{{if eq $range_id "a"}}<th rowspan=3><input type=number value=2  style=width:50px;height:100%></th><th rowspan=3><input type=number value=10 style=width:50px;height:100%></th>{{end}}{{if eq $range_id "d"}}<th rowspan=4><input type=number value=2  style=width:50px;height:100%></th><th rowspan=4><input type=number value=10 style=width:50px;height:100%></th>{{end}}{{if eq $range_id "h"}}<th rowspan=2><input type=number value=2  style=width:50px;height:100%></th><th rowspan=2><input type=number value=15 style=width:50px;height:100%></th>{{end}}{{end}}</tr>{{end}}{{/*<tr><th>Range Name</th><th>Class</td><th>Sighters</td><th>Shots</th></tr>{{range $key, $value := .ListRanges}}<tr><td rowspan=9>{{$value.Name}}</td>{{range $class_id, $class := $allEventGrades}}{{range $grade_id, $grade := $class.Grades}}<td>{{$class.Display}} {{$grade}}</td><td><input type=number value={{$class.SightersQty}}></td><td><input type=number value={{$class.ShotsQty}}></td></tr>{{end}}{{end}}<tr><td colspan=4>&nbsp;</td></tr>{{end*/}}</table>{{EndFieldset}}-->