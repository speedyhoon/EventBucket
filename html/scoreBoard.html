{{define "page"}}
<a class=floatRight href=//eventbucket.com.au><img src=/v/logo alt=EventBucket height=16>.com.au</a>
<h1>{{.Event.Name}}</h1>
	<table>
		{{range.Event.Shooters}}
			{{if.ClassSeparator}}
				<tr class=specialRow>
					<td colspan=5 class=classHeadingRow>{{(grade .Grade).Name}}
					{{range $.Ranges}}
						{{if eq .ID $.SortByRange}}
							<td rowspan=2 class=sortBy>{{.Name}}
						{{else}}
							<td rowspan=2>{{.Name}}
						{{end}}
					{{end}}
				{{template "scoreboardHeader" $}}
			{{end}}
			{{if and .GradeSeparator (not .ClassSeparator)}}
				<tr class=classHeadingRow>
					<td colspan=5>{{(grade .Grade).Name}}
					{{range $.Ranges}}
						{{if eq .ID $.SortByRange}}
							<td class=sortBy>{{.Name}}
						{{else}}
							<td>{{.Name}}
						{{end}}
					{{end}}
			{{end}}
			<tr>
				<td>
				<td class=tc>{{.FirstName}} {{.Surname}}
				<td>{{.ID}}
				<td>{{.Club}}
				<td>{{ageGroup .AgeGroup}}
				{{$shooter := .}}
				{{range $.Ranges}}
					<td>
						{{with index $shooter.Scores .StrID}}
							{{if.Total}}
								{{.Total}}
								{{if.Centers}}<sup>{{.Centers}}{{end}}
							{{end}}
						{{end}}
				{{end}}
		{{end}}
		<tr>
			<td colspan={{.Colspan}} class=legend>
				Legend: <label class=sortBy>Sorted By</label>
				<label class=noScore>Missing Score</label>
				<label class=incompleteScore>Incomplete Score</label>
				<label class=shootOff>Shoot Off</label>
				<label class=highestPossibleScore>Highest Possible Score</label>
				<label class=p1>1st</label>
				<label class=p2>2nd</label>
				<label class=p3>3rd</label>
	</table>
{{end}}

{{define "scoreboardHeader"}}
	<tr>
		<td>Pos
		<td>Shooter
		<td>ID
		<td>Club
		<td>Age Group
{{end}}