{{define "page"}}
	{{if and (not .Event.Closed) (not .Range.Locked)}}
		{{template "incompleteShooters" .}}
		<br>{{template "barcodeSearch"}}
		{{with .Event.Shooters}}
			<table class=scorecards data-eventID={{$.Event.ID}} data-rangeID={{$.Range.ID}}>
				<thead>
					<tr id=h>
						<th>ID
						<th>Club
						<th>Grade
						<th>Shooter
						{{$shotsHeader := (index $.Disciplines (grade (index . $.firstShooterID).Grade).ClassID)}}
						{{range $i := N $shotsHeader.QtySighters}}
							<td>S{{.}}
						{{end}}
						{{range $i := N $shotsHeader.QtyShots}}
							<td>{{.}}
						{{end}}
						<th colspan=99>Total
				</thead>
				{{range .}}
					{{if not .Hidden}}
						{{$score := index .Scores $.Range.StrID}}
						{{if or $.ShowAll (and (not $score.Total) (not $.ShowAll))}}
							<tr data-class={{(grade .Grade).ClassID}}>
								<th>{{.ID}}
								<th>{{.Club}}
								<th>{{(grade .Grade).Abbr}}
								<th>{{.FirstName}} {{.Surname}}
								{{range $i := N index $.Disciplines (grade .Grade).ClassID.QtyTotal}}
									<td>
										{{if gt (len $score.Shots) .}}
											{{printf "%c" (index $score.Shots .)}}
										{{end}}
								{{end}}
								<th colspan=99 class=t>
									{{with $score}}
										{{.Total}}{{with .Centers}}<sup>{{.}}</sup>{{end}}
									{{end}}
						{{end}}
					{{end}}
				{{end}}
				<tr id=x>
					<th id=bu colspan=99>{{/*TODO change colspan to table width*/}}</th>
				</tr>
			</table>
			<script defer src=dirJS/enterShots></script>
		{{else}}
			<samp>No shooters entered in this event.</samp>
		{{end}}
	{{else}}
		{{if .Event.Closed}}
			<samp>Event is closed, no changes can be made. Go to <a href=/event-settings/{{.Event.ID}}>Event Settings</a> to reopen this event.</samp>
		{{else}}
			<samp>Range is locked, no changes can be made. Go to <a href=/event-settings/{{.Event.ID}}>Event Settings</a> to unlock this range.</samp>
		{{end}}
	{{end}}
{{end}}