{{define "page"}}{{template "incompleteShooters" .}}<br><label>Search for Shooter <abbr title="Find a shooter in the list by entering a shooter ID or scan a scorecard barcode.">?</abbr> <input name=B pattern=(\d+\/\d+#)?\d+></label> <button onclick=shooterBarcode(B)>Search</button><samp id=barcodeErr hidden>Barcode must match: <em>eventID/rangeID#shooterID</em> For example: <em>{{.EventID}}/{{.Range.ID}}#1</em></samp><samp id=shooterErr hidden>A shooter with that ID doesn't exist in this event.</samp>{{with .Event.Shooters}}<table class=b data-eventID={{$.Event.ID}} data-rangeID={{$.Range.ID}}><thead><tr id=h><th>ID<th>Club<th>Grade<th>Shooter<!--//TODO fix-->{{/*$first := index $.defaultGrades2 $.firstShooterClass}}{{range $i, $f := $first.Sighters}}{{with $i}}<td>S{{.}}{{end}}{{end}}{{range $i, $f := $first.Shots}}{{with $i}}<td>{{.}}{{end}}{{end*/}}{{$D := index $.Disciplines $.firstShooterClass}}{{range $i := N $D.QtySighters}}<td>S{{.}}{{end}}{{range $i := N $D.QtyShots}}<td>{{.}}{{end}}<th>Total</thead>{{range .}}{{if not .Hidden}}{{$score := index .Scores $.Range.StrID}}{{if or $.ShowAll (and (not $score.Total) (not $.ShowAll))}}<tr id={{.ID}} data-class={{(grade .Grade).ClassID}}><th>{{.ID}}<th>{{.Club}}<th>{{(grade .Grade).Abbr}}<th>{{.FirstName}} {{.Surname}}{{$NewD := getClass $.Disciplines (grade .Grade).ClassID}}{{$myGrade := index $.Disciplines (grade .Grade).ClassID}}{{range $i := N $NewD.QtyTotal}}<td>{{if gt (len $score.Shots) .}}{{printf "%c" (index $score.Shots .)}}{{end}}{{end}}<th{{attr " colspan" $NewD.Colspan}} class=t>{{with $score}}{{.Total}}{{with .Centers}}<sup>{{.}}</sup>{{end}}{{end}}{{end}}{{end}}{{end}}<tr id=x><th id=bu colspan=99>{{/*TODO change colspan to table width*/}}</th></tr></table>{{else}}<samp>No shooters entered in this event.</samp>{{end}}{{end}}