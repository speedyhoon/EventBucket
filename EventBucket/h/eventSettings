{{define "page"}}{{template "EventDetails" .EventDetails}}{{if .Event.Closed}}<samp>Event is closed, no changes can be made.</samp>{{else}}{{template "AddRange" .AddRange}}<datalist id=r>{{range .RangeDataList}}<option>{{.Name}}{{end}}</datalist>{{if ge (len .Ranges) 2}}{{template "AddAggregateRange" .AddAgg}}{{end}}{{end}}{{with .Event.Ranges}}<p>Total Ranges: {{len .}}{{if not $.Event.Closed}}<table id=editRanges>{{else}}<table>{{end}}<thead><th class=c>ID<th>Range<th>Aggs<th>Locked{{if not $.Event.Closed}}<td>Edit{{end}}</thead>{{range .}}<tr><td>{{.ID}}<td>{{.Name}}<td>{{if .IsAgg}}{{range .Aggs}}{{(findRange . $.Event.Ranges).Name}}, {{end}}{{end}}{{if and .Locked (not .IsAgg)}}<td class=e>{{else}}<td>{{end}}{{if not $.Event.Closed}}<td>{{end}}{{end}}</table>{{else}}<samp>This event has no ranges.</samp>{{end}}<template><td></td><td><input required name=n maxlength=64 list=r type=search placeholder="Range name" form=editRow></td><td><select size={{len .Ranges}} required name=R multiple form=editRow>{{template "optionList" .Ranges}}</select></td><td><input name=k type=checkbox form=editRow></td><td><form method=post action=/20 id=editRow><button name=I>Save</button><input type=hidden name=E value={{.Event.ID}}></form></td></template>{{end}}