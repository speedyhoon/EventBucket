<script defer src=/j/test></script>{{define "page"}}{{with .About}}EventBucket version: 3.0<p>Compiled by Cam Webb using go1.6, on March 19, 2016.</p>{{template "networkAdapters" .}}<h2 class=g>Built with:<a title="The Go Programming Language" href=//golang.org><img alt=Go src=/p/go height=30></a><a title="Chrome Browser" href=//google.com.au/chrome><img alt="Chrome Browser" src=/p/chrome height=30></a><a title=Atom href=//atom.io><img alt="Atom text editor" src=/p/atom height=30></a><a title="IntelliJ IDEA" href=//jetbrains.com/idea><img alt="IntelliJ IDEA" src=/p/idea height=30></a><a title=Git href=//git-scm.com><img alt=Git src=/p/git height=30></a><a title="Sass: Syntactically Awesome Style Sheets" href=//sass-lang.com><img alt=Sass src=/p/sass height=30></a><a title="Closure Tools" href=//developers.google.com/closure><img alt="Closure Tools" src=/p/closure height=30></a><a title=Inkscape href=//inkscape.org><img alt=Inkscape src=/p/inkscape height=30></a><a title="New Relic | Application Performance Management &amp; Monitoring" href=//newrelic.com><img alt="New Relic" src=/p/newrelic height=30></a></h2>{{end}}<hr>{{with .Archive}}{{with .ListEvents}}<ul>{{range .}}{{if .Closed}}<li><a href=/entries/{{.ID}}>{{.Name}}</a>{{end}}{{end}}</ul>{{else}}<samp>No Events archived</samp>{{end}}{{end}}<hr>{{with .Club}}<p>{{.Club.IsDefault}}</p><h2>Map</h2>{{with .Club}}{{if and .Latitude .Longitude}}<div id=map></div><script>// When the user clicks the marker, an info window opens.function initMap() {var map, t, u = {zoom: 4}, infoW = function (gh) { return function() {gh.infowindow.open(map, gh.marker);}};//TODO replace array with ajax json callvar places = [{lat: -25.363, lng: 131.044, title: 'Los Vagas', address: '321 York Street', place:'Maintree, VIC, 3434'},{lat: -27.363, lng: 137.044, title: 'Had', address: '1 Plenty Place', place:'Fern gully, VIC, 3434'},{lat: -32.363, lng: 141.044, title: 'Tami', address: '23 Gotchi Terrace', place:'Fern gully, VIC, 3434'}];if(places.length){u.center = {lat: places[0].lat, lng: places[0].lng};}map = new google.maps.Map(document.getElementById('map'), u);for(t in places){places[t].infowindow = new google.maps.InfoWindow({content: '<h1>'+places[t].title+'</h1><p>'+places[t].address+'</p><p>'+places[t].place+'</p>'});places[t].marker = new google.maps.Marker({position: {lat: places[t].lat, lng: places[t].lng},map: map,title: places[t].title});places[t].marker.addListener('click', infoW(places[t]));}}</script><script async defer src="https://maps.googleapis.com/maps/api/js?callback=initMap"></script>{{else}}<samp>Club location not listed</samp>{{end}}{{end}}{{end}}<hr>{{with .ClubSettings}}{{template "ClubDetails" .ClubDetails}}{{template "NewShootingMound" .ClubMound}}<p>{{.Club.ID}}</p><p>{{.Club.IsDefault}}</p><h2>Mounds</h2>{{with .Club.Mounds}}<ul>{{range .}}<li>{{.Distance}} {{.Unit}}</li>{{end}}</ul>{{else}}<samp>No mounds listed</samp>{{end}}<br><br><br><br><br><br><br><select><option>-012345V<option>-012345VX<option>-0123456X</select><h3>Legend</h3><p>- no shot fired / withdrawn / disqualified</p><p>0 shot fired, missed target</p><p>1</p><p>2</p><p>3 magpie</p><p>4</p><p>5 bullseye</p><p>6 inner bullseye</p><p>V Vbull</p><p>X center bull</p>{{end}}<hr>{{with .Clubs}}{{template "NewClub" .NewClub}}{{with .ListClubs}}<ul>{{range .}}<li><a href=/club/{{.ID}}>{{.Name}}</a>{{end}}</ul>{{else}}<p>No Clubs found</p>{{end}}{{end}}<hr>{{with .Entries}}{{if .Event.Closed}}<samp>Event is closed, no changes can be made.</samp>{{else}}{{template "ShooterEntry" .ShooterEntry}}{{end}}{{with not .HasRanges}}<samp>This event has no ranges</samp>{{end}}{{with .Event.Shooters}}<p>Total Entries: {{$.QtyEntries}}<table><thead><th class=a>ID<th><th>Shooter<th>Club<th>Grade<th>Age Group{{if not $.Event.Closed}}<th>Edit{{end}}</thead>{{range .}}<tr><td>{{.ID}}<td>{{if $.HasRanges}}<a href=/print-cards/{{$.Event.ID}}/{{.ID}}>Scorecards</a>{{end}}<td>{{.FirstName}} {{.Surname}}<td>{{.Club}}<td>{{grade .Grade}}<td>{{ageGroup .AgeGroup}}{{if not $.Event.Closed}}<td class=g><img src=/p/edit width=12 height=12 alt="edit icon">{{end}}{{end}}</table>{{else}}<samp>No shooters entered in event.</samp>{{end}}{{if not .Event.Closed}}<script defer src=/j/shooterSearch></script>{{end}}{{end}}<hr>{{with .Error}}<div class=g><h2>Oops&mldr;{{/* horizontal ellipsis */}}</h2>Something kicked the bucket. That {{with .Type}}{{.}}{{else}}page{{end}} wasn't found.<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302 207" class=i stroke="#000"><path style="fill:#0cf;fill-opacity:1;stroke:#000;stroke-opacity:1" d="m -8.8983078,143.00847 a 75,44.279659 0 1 1 -150.0000022,0 75,44.279659 0 1 1 150.0000022,0 z" transform="matrix(1.2654251,0.0677898,-0.35223866,0.24432791,361.15878,165.42247)"/><path style="fill:#f70;stroke-width:4" d="M 143.36339,23.711564 44.011944,22.917299 C 16.786625,34.617423 -18.287825,93.308455 16.629794,140.9557 l 69.165116,27.04122 15.67675,13.59883 15.47684,2.81195 z"/><g transform="matrix(-0.17364818,0.98480775,-0.98480775,-0.17364818,213.77498,20.591)" style="fill-opacity:0.5;stroke:none"><path d="m 44.1,79.8 c 0,0 71.31,41.72 123,26.07 l 0.4911,-4.732 10.97,-16.62 -1.321,-19.91 c -43.1,27.92 -97.94,24.77 -133.2,15.19 z"/><path d="M 45.6,62.8 C -9.98,48.65 38.975,16.43 58.4,16.08 92.73,10.791 138.97,5.55 165.3,25.035 125.2,17.919 80.93,30.399 45.6,62.805 z"/></g><g style="fill:#fb7;stroke-width:4" transform="matrix(-0.17364818,0.98480775,-0.98480775,-0.17364818,213.77498,20.591)"><path d="m 20.8,57.8 c 0,0 -10.15,50.95 -2.578,60.19 17.32,20.77 56.07,32.08 68.93,31.25 13.58,2.519 67.55,-45.96 78.35,-62.38 0.8208,-1.358 1.136,-5.241 2.083,-5.967 4.604,-2.482 7.189,-3.07 9.268,-0.6276 1.098,1.869 1.312,3.358 1.021,4.47 -10.88,21.73 -54.98,69.1 -70.91,75.67 -5.797,3.799 -22.02,4.201 -25.17,3.833 -24.94,-4.226 -64.7,-24.17 -78.57,-39.64 -3.095,-8.333 -0.7668,-73.24 10.08,-66.71 z"/><path d="M 185.7,33.8 C 177.176,1.38 106.16,2 95.94,2.29 46.91,4.279 7.69,22.49 8.35,42.98 c 0.1529,4.975 -1.209,14.95 3.312,20.06 26.69,28.08 132.7,33.81 172.9,-3.875 3.23,-9.81 1.782,-22.47 1.17,-25.37 z m -12.58,2.741 c 0.5649,16 -33.39,30.23 -75.84,31.78 -42.45,1.553 -77.31,-10.16 -77.88,-26.16 -0.5649,-16 33.39,-30.23 75.84,-31.78 23.68,-1.342 75.6,5.015 77.88,26.16 z"/></g><g style="fill-opacity:0.5" transform="matrix(-0.17364818,0.98480775,-0.98480775,-0.17364818,213.77498,20.591)"><path d="M 186.8,39.62 C 177.9,85.19 22.3,92.79 7.9,44.53 c 1.134,8.2 -0.926,14.1 5.095,19.47 -1.123,9.765 -8.21,46.22 5.062,54.84 -4.562,-10.38 0.5772,-42.04 0.5,-49.91 22.84,17.95 120.5,30.14 166,-9.125 4.597,-3.969 2.414,-16.61 2.281,-20.19 z"/><path d="m 77.2,161.8 c 10.69,0.838 21.04,1.229 40.43,-16.71 15.61,-14.23 44.18,-38.46 57.87,-65.91 l 3.814,3.997 c -10.67,13.39 -64.06,98 -102.1,78.63 z"/></g></svg></div>{{end}}<hr>{{with .EventReport}}id={{.Event.ID}}{{end}}<hr>{{with .EventSettings}}{{template "EventDetails" .EventDetails}}{{if .IsClosed}}<samp>Event is closed, no changes can be made.</samp>{{else}}{{template "AddRange" .AddRange}}{{if ge .QtyRanges 2}}{{template "AddAggregateRange" .AddAgg}}{{end}}{{end}}{{with .Ranges}}<p>Total Ranges: {{$.QtyRanges}}<table><thead><th class=a>ID<th>Range<th>Aggs<th>Locked<th>Edit</thead>{{range .}}<tr><td>{{.ID}}<td>{{.Name}}<td>{{if .IsAgg}}{{.Aggs}}{{end}}<td>{{if not .IsAgg}}{{.Locked}}{{end}}<td class=g><img src=/p/edit width=12 height=12 alt="edit icon">{{end}}</table>{{else}}<samp>This event has no ranges.</samp>{{end}}{{end}}<hr>{{with .Events}}{{template "NewEvent" .NewEvent}}{{template "listEvents" .ListEvents}}{{end}}<hr>{{with .Home}}{{template "NewEvent" .NewEvent}}{{template "listEvents" .ListEvents}}{{end}}<hr>{{with .Licence}}<p class=g><a rel=license href=//creativecommons.org/licenses/by-nc-nd/4.0/><img alt="Creative Commons License" src=/p/cc88x31></a><br>EventBucket by Cam Webb is licensed under a <a rel=license target=_blank href=//creativecommons.org/licenses/by-nc-nd/4.0/>Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International Public License</a>.<br>Permissions beyond the scope of this license may be available via <a href="mailto:eventbucket@hotmail.com?subject=Licence Enquiry">email</a>.</p><h3>Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International Public License</h3><p>By exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International Public License ("Public License"). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions.</p><p id=s1><strong>Section 1 &ndash; Definitions.</strong></p><ol><li id=s1a><strong>Adapted Material</strong> means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image.</li><li id=s1b><strong>Copyright and Similar Rights</strong> means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section <a href=#s2b>2(b)(1)-(2)</a> are not Copyright and Similar Rights.</li><li id=s1c><strong>Effective Technological Measures</strong> means those measures that, in the absence of proper authority, may notbe circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similarinternational agreements.</li><li id=s1d><strong>Exceptions and Limitations</strong> means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material.</li><li id=s1e><strong>Licensed Material</strong> means the artistic or literary work, database, or other material to which the Licensor applied this Public License.</li><li id=s1f><strong>Licensed Rights</strong> means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license.</li><li id=s1g><strong>Licensor</strong> means the individual(s) or entity(ies) granting rights under this Public License.</li><li id=s1h><strong>NonCommercial</strong> means not primarily intended for or directed towards commercial advantage or monetary compensation. For purposes of this Public License, the exchange of the Licensed Material for other material subject to Copyright and Similar Rights by digital file-sharing or similar means is NonCommercial provided there is no payment of monetary compensation in connection with the exchange.</li><li id=s1i><strong>Share</strong> means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them.</li><li id=s1j><strong>Sui Generis Database Rights</strong> means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world.</li><li id=s1k><strong>You</strong> means the individual or entity exercising the Licensed Rights under this Public License. <strong>Your</strong> has a corresponding meaning.</li></ol><p id=s2><strong>Section 2 &ndash; Scope.</strong></p><ol><li id=s2a><strong>License grant</strong>.<ol><li id=s2a1>Subject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to:<ol><li id=s2a1A>reproduce and Share the Licensed Material, in whole or in part, for NonCommercial purposes only; and</li><li id=s2a1B>produce and reproduce, but not Share, Adapted Material for NonCommercial purposes only.</li></ol></li><li id=s2a2><u>Exceptions and Limitations</u>. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions.</li><li id=s2a3><u>Term</u>. The term of this Public License is specified in Section <a href=#s6a>6(a)</a>.</li><li id=s2a4><u>Media and formats; technical modifications allowed</u>. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section <a href=#s2a4>2(a)(4)</a> never produces Adapted Material.</li><li id=s2a5><u>Downstream recipients</u>.<div class=^para^><ol><li id=s2a5A><u>Offer from the Licensor &ndash; Licensed Material</u>. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License.</li><li id=s2a5B><u>No downstream restrictions</u>. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material.</li></ol></div></li><li id=s2a6><u>No endorsement</u>. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section <a href=#s3a1Ai>3(a)(1)(A)(i)</a>.</li></ol></li><li id=s2b><p><strong>Other rights</strong>.</p><ol><li id=s2b1>Moral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise.</li><li id=s2b2>Patent and trademark rights are not licensed under this Public License.</li><li id=s2b3>To the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties, including when the Licensed Material is used other than for NonCommercial purposes.</li></ol></li></ol><p id=s3><strong>Section 3 &ndash; License Conditions.</strong></p><p>Your exercise of the Licensed Rights is expressly made subject to the following conditions.</p><ol><li id=s3a><p><strong>Attribution</strong>.</p><ol><li id=s3a1><p>If You Share the Licensed Material, You must:</p><ol><li id=s3a1A>retain the following if it is supplied by the Licensor with the Licensed Material:<ol type=i><li id=s3a1Ai>identification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated);</li><li id=s3a1Aii>a copyright notice;</li><li id=s3a1Aiii>a notice that refers to this Public License; </li><li id=s3a1Aiv>a notice that refers to the disclaimer of warranties;</li><li id=s3a1Av>a URI or hyperlink to the Licensed Material to the extent reasonably practicable;</li></ol></li><li id=s3a1B>indicate if You modified the Licensed Material and retain an indication of any previous modifications; and</li><li id=s3a1C>indicate the Licensed Material is licensed under this Public License,and include the text of, or the URI or hyperlink to, this PublicLicense.</li></ol>For the avoidance of doubt, You do not have permission under this Public License to Share Adapted Material.</li><li id=s3a2>You may satisfy the conditions in Section <a href=#s3a1>3(a)(1)</a> in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information.</li><li id=s3a3>If requested by the Licensor, You must remove any of the information required by Section <a href=#s3a1A>3(a)(1)(A)</a> to the extent reasonably practicable.</li></ol></li></ol><p id=s4><strong>Section 4 &ndash; Sui Generis Database Rights.</strong></p><p>Where the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material:</p><ol><li id=s4a>for the avoidance of doubt, Section <a href=#s2a1>2(a)(1)</a> grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database for NonCommercial purposes only and provided You do not Share Adapted Material;</li><li id=s4b>if You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material; and</li><li id=s4c>You must comply with the conditions in Section <a href=#s3a>3(a)</a> if You Share all or a substantial portion of the contents of the database.</li></ol>For the avoidance of doubt, this Section <a href=#s4>4</a> supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights.<p id=s5><strong>Section 5 &ndash; Disclaimer of Warranties and Limitation of Liability.</strong></p><ol class=f type=a><li id=s5a><strong>Unless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor offers the Licensed Material as-is and as-available, and makes no representations or warranties of any kind concerning the Licensed Material, whether express, implied, statutory, or other. This includes, without limitation, warranties of title, merchantability, fitness for a particular purpose, non-infringement, absence of latent or other defects, accuracy, or the presence or absence of errors, whether or not known or discoverable. Where disclaimers of warranties are not allowed in full or in part, this disclaimer may not apply to You.</strong></li><li id=s5b><strong>To the extent possible, in no event will the Licensor be liable to You on any legal theory (including, without limitation, negligence) or otherwise for any direct, special, indirect, incidental, consequential, punitive, exemplary, or other losses, costs, expenses, or damages arising out of this Public License or use of the Licensed Material, even if the Licensor has been advised of the possibility of such losses, costs, expenses, or damages. Where a limitation of liability is not allowed in full or in part, this limitation may not apply to You.</strong></li></ol><ol start=3 type=a><li id=s5c>The disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability.</li></ol><p id=s6><strong>Section 6 &ndash; Term and Termination.</strong></p><ol><li id=s6a>This Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically.</li><li id=s6b><p>Where Your right to use the Licensed Material has terminated under Section <a href=#s6a>6(a)</a>, it reinstates:</p><ol><li id=s6b1>automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or</li><li id=s6b2>upon express reinstatement by the Licensor.</li></ol>For the avoidance of doubt, this Section <a href=#s6b>6(b)</a> does not affect any right the Licensor may have to seek remedies for Your violations of this Public License.</li><li id=s6c>For the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License.</li><li id=s6d>Sections <a href=#s1>1</a>, <a href=#s5>5</a>, <a href=#s6>6</a>, <a href=#s7>7</a>, and <a href=#s8>8</a> survive termination of this Public License.</li></ol><p id=s7><strong>Section 7 &ndash; Other Terms and Conditions.</strong></p><ol><li id=s7a>The Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed.</li><li id=s7b>Any arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License.</li></ol><p id=s8><strong>Section 8 &ndash; Interpretation.</strong></p><ol><li id=s8a>For the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License.</li><li id=s8b>To the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions.</li><li id=s8c>No term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor.</li><li id=s8d>Nothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority.</li></ol>{{end}}<hr>{{with .Master}}{{define "master"}}<!DOCTYPE html><link rel=stylesheet href=/c/dark><title>EventBucket{{with .Page.Title}} - {{.}}{{end}}</title><body><header><h1><a href=/>EventBucket</a></h1><span class=c>Making scoring easier for rifle clubs</span><nav><ul>{{range .Menu}}{{if eq $.Page.Title .Name}}<li class=b>{{.Name}}{{else}}<li><a href={{.Link}}>{{.Name}}</a>{{if eq $.Page.Menu .Link}}{{with .SubMenu}}<ul>{{range .}}{{if eq $.Page.Title .Name}}<li class=b>{{.Name}}{{else}}<li><a href={{.Link}}{{$.Page.MenuID}}>{{.Name}}</a>{{end}}{{end}}</ul>{{end}}{{end}}{{end}}{{end}}</ul><p class=c>Copyright &copy; 2011-{{.CurrentYear}}</p><p class=c><a href=/about>v3.0</a> <a href=/licence class=e><img src=/p/cc80x15 alt="Creative Commons Licence" height=15 width=80></a></p></nav></header><section>{{with .Page}}{{with .Title}}<h4>{{.}}</h4>{{end}}{{with .Heading}}<h1>{{.}}</h1>{{end}}{{with .Error}}<samp>{{.}}</samp>{{end}}{{template "page" .Data}}{{end}}</section><script defer src=/j/main></script>{{end}}<hr>{{with .NoId}}<h1>{{.PageName}}</h1>Whoops, couldn't find a{{if eq "event" .PageType}}n{{end}} {{.PageType}} with that {{.ParameterType}}.<ul><li>{{.List}}</li></ul>{{end}}<hr>{{with .PrintScorecards}}<table class=m>{{range .Ranges}}<tr><td rowspan=3 class=h><img class=l src=/b/q{{$.EventID}}/{{$.Shooter.ID}}/{{.ID}} alt={{$.EventID}}/{{$.Shooter.ID}}/{{.ID}}><br><strong>{{$.EventID}}/{{$.Shooter.ID}}/{{.ID}}</strong><td>Event ID: {{$.EventID}}<td>{{$.EventName}}<tr><td>Shooter ID: {{$.Shooter.ID}}<td>{{$.Shooter.FirstName}} {{$.Shooter.Surname}}<tr><td>Range ID: {{.ID}}<td>{{.Name}}{{else}}<tr><td><samp>No ranges in {{$.Event.Name}} event. Unable generate scorecards</samp>{{end}}</table>{{end}}<hr>{{with .Report}}<h2>What is target rifle shooting?</h2><h2>Brief history of Victorian Target Rifle Shooting</h2>VRA formed in 1860'sWilliamstown closed in 1992Stawell Rifle Club lengthened their range in 2003they now to Match rifle shooters and sometimes recieve shooters internationallyCompetitor numbers have slowly been dwindling for many years<h2>What is a target Rifle competition like?</h2>Overwhelming and Stressful for beginners traveling to a new range by themselvesTakes a long time to start heading home<h2>What where some points that were not expected?</h2>Uncovered cheating in the 2013 Victorian champion of champions team match. Refused to organise scores for the following year. Scores where modified on paper compared to shots fired. I tried to fix the mess and retrieve the correct scores, but after 45 minutes I gave up. EB scoreboard was thrown out and incorrect cores where beemed correct.No work was done on EB for the following 6 months and I also withdrew from shooting.<h2>competitors systems?</h2><h2>Interview questions for EventBucket Opinion.</h2>what was good about eventbucket<br>what was bad about eventbucket<br>No one was ever interested in useing EB. Why do you think that was?<br>how could EB be changed to appeal to a wider ausience?<br>do you think EB made Prize Meetings better? - more organised?<br>do you think Cam communicated poorly and no no one ever knew what was going on?<br>Did EB ever perform poorly?<br><h2>Interviewees?</h2><ul><li>Mick</li><li>Cara</li><li>Pete</li><li>Leo Stigger</li></ul><h2>What didn't work well</h2><ul><li>ace HTML templating. biggest problem was adding spaces between elements was awkward. No syntax hilighting. sometimes file extension would open in a zip extraction program when editing files not on my normal developer workstation.</li><li>Second monitor failed three times.</li><li>IntelliJ IDEA<ul><li>Displays false positives with golang syntax errors and unresolved variables</li><li>External file changes are not supported. Files fixed by build bot are not auto updated</li><li>Editor is slow</li><li>when network drive is disconnected constant java error popups and unable to refresh project to see files again.</li><li></li></ul></li><li>grunt build tools. lots of configuration - time consuming for not much gain</li><li>gulp build tools. waisted time with trying out plugins that don't work, debugging etc. others have had similar experience. errors are not handled properly or are poor/error prone to crashes for some plugins. Difficult to decipher poor documentation.</li></ul><h2>What worked</h2><ul><li>Build bot can fix common Golang programming mistakes. Just run the executable in a directory. no need to setup an IDE and programming environment.</li><li>Git - helps keep track of changes. Some that are not good enough for product can be rolled back. Backup</li><li>Buildbot runs on an old networked laptop. off loads processing. Best for external monitor</li><li>build EB on slower hardware that the target audience has. reduces problems with intensive CPU tasks by discovering them earlier.</li><li>run BuildBot and EB in CompileDeamon so they auto recompile whenever code is changed in their files</li></ul><pre>EventBucket Mission Statement:Build the simplest website possibleOnly add frameworks/packages where it will safe significant time/resources.Target audience: "outback" Australia with limited internet connection & speed (if available)Before the National Broadband Network scheme north western Victoria farms had availablepoor ADSL - 100km from the closest node no ADSL2+ 35% packet losssatelite - running at 150% capacity. Peek periods averaged 1.76KB/s download3G wifi - not available - next door neibour erected a 4m tall arial ~ 40+dB - erratic connectivity in windy, super hot(mirages) rain, stormy weather, lighting,dialup - two phone lines required - billed on time rather than traffic.Serve each file within 1KB gzipped - 1 second download time.removed internet connection requirement and went with local connectionOffline website was considereda mesh like network would be hard to maintain information in, on a javascript front end environment.node js wasn't abot to be compiled and 3rd party code was difficult to use in 2013.callback nightmareearly days for the offline website technology.indexedDB was suited and scored could be saved to browser easily and transfered to server once finished.difficult to determine status of shoot from the server point of view. Has the scores for shooter X been recorded or missed.many nodes of failure instead of a single node of failure. - battery life & needing to retrieve scores.the first iPad had poor javascript performance & wasn't suitable. the page needed to be simplified significantly.JavascriptCoffeeScriptThe idea of simplifying Javascript and writing less code to do more is a good one. However I disagree on a few of the default behavior implementations.functions return the last written. Often handy but also a pain if you have to write return undefined everywherethe amount of javascript code it generates is more than hand coded javascript.code can be confusing/difficult to read without parenthesisIt doesn't assist with dynamic typingmore complex & slower build serverjQueryWhen EventBucket was first prototyped in 2012, jquery was a 81KB minified download. That was 76KB larger than the rest of the home page combined.Often when jquery seemed handy to use I knew I was doing something wrong or too complicated & it could be written better.faviconit would be nice if browsers supported svg favicons. It would save having to specify different images & multiple sizes for each device.Firefox has started supporting svg but chrome still fall behind.combine resourcesIE supports combining javascript & css into the same file by wrapping each in html and javascript comment tags.at best itdownloaded the file once for CSS and was cached never to ask againask for the file againand the server at best could respond with NOT MODIFIED.Chrome didn't support the odd parsing.chrome instead supports spdy which I never got running and didn't really need it in golangFirefox did support but the server must respond with a complete new file. NOT MODIFIED didn't work.HTML optimisation:replace html tags with sorter ones &lt;input =&gt; &lt;x, &lt;h1 =&gt; &lt;h, etc.worked with browsers although additional css needed to be downloaded.render time was slightly slower since the CSS needed to be ungzipped, parsed and applied.an extra round trip time was needed to retrieve the css. - although CSS would be needed any way the page would be completely unusable if CSS wasn't downloaded.SVG sprite reuseone svg file - many objects. apply one class to get the object you need.insert svg within CSS without base64 - but needed the setup costs of svg element, viewbox etcmake svg external and larger - makes css appear faster to rendericons are slower to appear.one one request for an svg and you have them alljavascript to insert just the object you needed was extra cost for no real benifit except making the code look nicer. slightly less browser resource consumption for hiding unused svgs.reduced the amount of svgs used and the javascript became completly redundant for less than 3-7 objects??No javascript on home page.unable to add helpful things like textarea Ctrl + Enter shortcuts. single page app, browser html cachingbrowser html caching isn't really needed as most pages require a fresh view on most visits and would be come more complex to distinguish between needing to update local browser cache and using the existing cache. what if user didn't recieve notification that update was needed and they wern't able to update page anymore.Keep It Simple Stupid.Programing methodologies:KISS - lockheed martinno code, no bugs - Andrew & Ash @ Smalldog Design.Internationalisation:why wasn't this done. Lack of TIME!!github.com/nicksnyder/go-i18n is a good package to translate and has support from pulrals.but it doesn't have support for ordinals (1st, 2nd, 3rd, ...) at the first time of investigation as at Oct 2015.seems time consuming to create key value pairs. would prefer django style where translator translates the actual text.Code style:I tried to use Golang code style for Javascript but it didn't go so well.Instead of if else, used if !not, return.Positivesfound that the main code was easier to read. most used code was all on the same indentation.Negatives:Harder to where a function is returned as errors are indentedThere is more than one return for each function.lots of negation used to return function early. Not using simple if err != nil. but changexhr.status === 200 && xhr.readyState === 4 ){toxhr.status !== 200 || xhr.readyState !== 4) retrun;Reducing network traffic:Returning html response after a POST consists of mostly html characters and less "information"Expermented with pure.js and transparency.js.Problems:Parsing the html rather than simply adding the values to the template htmlPure.js has a key/value pair and a directive/selector pair to maintain.Have to maintain a normal request response and a "optimised" response chain. If returning only "optimised" templating then the page won't work without Javascript enabled.Javascript is disabled on 1% of browsers.extra JS complexity and download added to the project for ajax/websocket endpoints. - How much browsing would be required to overcome the initial boilerplate load?Would need additional backend code to generate the key/value pairs.Browser would utilise more memory to execute extra javascript code.Introducing more points of failure in the app.Longer time needed to test in different browsers.One more request will be required to load the page. HTML + CSS + JS. + JSONAdding a dynamic JSON minifyer + gzip to the chain would make the response slightly slower to generte.Templating invalid forms from back end would be more complex to toggle error messages.Complex to cahce html template response but not the full html generated with data.Slower to develop, more code to maintainhttp://www.workingsoftware.com.au/page/Your_templating_engine_sucks_and_everything_you_have_ever_written_is_spaghetti_code_yes_youPositives:Traffic (after inital load) is smaller and faster to transfer across a very slow network connection.Extremely responsive/snappy experience loading/updating existing tables that are already loaded. Potential to load/alter only rows that have been added, updated or deletedHTML templtes could be cached for 1 year. the JSON response changes instead.Seems like the current trendy thing to do. Traditional response with limited or no javascript is becoming rarer.Above scenario is a modern take on parsing the old xhtml and XSLT with xml data. At least the browser would translate the data into XHTML. However XSLT was very complex and that flexible.datalists:there is inconsistant implementations for the datalist element.Chrome & Opera show the option value & labelFirefox & IE 11 show only the option labelhttp://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-valuehow can this be fixed?simple: don't use id in this case and only provide Label.use Label in the backend as an additional case insensitive unique identifier, but also have an idreturn label as normal</pre><h3>Mongodb issues</h3><p>I am not using javascript scripting in mongodb selects and updates. this puts more pressure on the database with increased quantity of queries on the database but also<br>the queries don't run atomically (in parallel) so there is a higher risk of wrong ids and it is just overall slower that way.</p><p>Would like to move to mobile crouchbase database. so that syncing in future could be much simpler. Couchbase also has a larger document limit of 20MB, compared to 16MB for MongoDB</p><p>thought that not writing mongodb scripting would help the program to be less database agnostic. This is true is some cases - no stored procedures need to be written in sql if moved to a RDBMS. However it requires auto increment code in the program.</p><p>mongodb isn't a silver bullet. Putting all event data in a single object will eventually lead to a document overflow where no more data can be stored within the object because it has exceeded 16MB</p><pre>sql schema compare: mongodbread - painful enjoyablewrite - easy more complexjoins - doable teadious</pre><h2>Form generation</h2>why I didn't use struct validationlots of casting interfaces to struct typeform fields don't always reflect structs.club search fields return club name as a string instead of club idlimited support for different types. - this is now more fully implementedmanually write form htmlwrite validation code for each formvalidation often missmatchedhtml was inconsistant. change one form layout and that had to be applied to all formswrote a fieldset wrapper to help with the startup cost of writting a form. <code><form><fieldset><legend></legend></code>quick form generationone struct type for all form fieldsvalidate values was still - manually create mapscode lived on the server and generated a new form every page load - no caching+ populating forms with fields was really easy- page load speed is slow- pages are prown to xss attacks because generating html using fmt :( - acuntics 9 demo- unable to create a form with two different actions - shooter entry on event pageone struct type for each kind of form field+++ moved validation code isValid into http post wrapper so it is done automatically-- "duplicate" struct for each form field in the list of forms to validate against- populating fields with default values is harder than previous- changing a form field order now breaks pages referencing fields by index insted of old map[string]+ validation is now a lot easier+ duel form actions supported+ page load is much more snappier+ form html is completly generated by form builder- no form customizeablity for a single form - would have to manually write form code.+ modify layout of forms affects all others and is really fast to generate+ swaping fields around in html doesn't require a server to restart now.+ can save fields to a variable to reuse<h1>Bolt DB</h1>trialing boltDB. reduced compiled sizeEventBucket with MongoDB size: 9.46 MB (9,927,680 bytes)EventBucket with Bolt DB size: 8.86 MB (9,300,480 bytes)<h2>HTML Forms</h2><pre>Adding forms to a page:in a HTML form there are 3 main areas:the data being displayed - textbox values and select box optionsvalidation - attributes to hinder user from submitting invalid form data - required, min, max etc...presentation & functionalityerror handling - bypassing validation or complex validation not implemented in HTML (required checkbox group)it's difficult to maintain standardised forms in all areas without making a standard form builderbuilding a form during runtime is quite slow string & slice concatenationpassing the form to validation has a lot of fields that aren't neededcreate the HTMLadd validation structadd population data - map[string]interface OR anonymous struct</pre><h4>Suprising things</h4><p>While adding an animated gif to the project, I put the file in the "p" folder that is served as mime type image/png. Suprisingly chrome and firefox rendered the picture OK. I then renamed the file without an extendion type and it still worked.</p><p>I then tried to open the file with different extensions and all worked fine.</p><ul><li>loading</li><li>loading.png</li><li>loading.gif</li></ul><p>Thats amazing. I thought that the file should remain in the GIF folder because if it was placed in the PNG folder, trying to run png guantlet and lossy compression on the file in the furture would be a bad idea.</p><h4>First time I ran Acunetix:</h4>It failed with a smile. whoops no problems. :)fatal error: concurrent map writes2016/02/27 00:14:53 stderr:2016/02/27 00:14:53 stderr: goroutine 1015 [running]:2016/02/27 00:14:53 stderr: runtime.throw(0x9732a0, 0x15)2016/02/27 00:14:53 stderr: runtime.mapassign1(0x7c06c0, 0xc08206d1d0, 0xc0833ab778, 0xc0833ab6d8)2016/02/27 00:14:53 stderr: C:/Go/src/runtime/hashmap.go:540 +0x552 fp=0xc0833ab4f8 sp=0xc0833ab4502016/02/27 00:14:53 stderr: main.templater(0x3a9bd8, 0xc083b1d790, 0x91e838, 0x4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)2016/02/27 00:14:53 stderr: C:/Users/Cam/Code/EventBucket/!/template.go:94 +0xd09 fp=0xc0833ab888 sp=0xc0833ab4f8I had pointed Acunetix on a server running in debug mode. Debug mode reloads the html template on every request and saves it to a map variableIt had sent so many requests that is was bound to cause this error eventually. The was 6 medium errors HTML form without CSRF protection. I hadn't planned on implementing this due to Eventbuckets private nature of running within private wifi networks. hopefully with wifi security setup like wpa2 (not just WEP)On the next test run the laptop started to beep at me like a machine gun for 30 seconds! I suspect the temporary trace logging that I had for variables while developing a few pages (that I forgot to remove) had stack overflowed the command console Cmder.The test came back with 99 failed pages /club/265-/club/344,/entries/371-/entries/424 probably because I killed the server early with Ctrl + C<h4>Session troubles</h4><p>sessions:had a hard time trying to figure out a way to get all the forms with their default values as well as getting the submitted session.At one stage I was trying to get a form and if it wasn't the same action id then the session would be cleared without first getting the incorrect submitted fields.could almost get rid of the struct form type. But it is needed to keep the sessions in, most importantly the action integer. if it wasn't for the action then it could be removed.</p><p>Forms todo list</p><p>form to add new shooter to EB - not into eventadd list to show all shootersfinish search lookup database calladd existing shooters to eventadd </p><p>One suprising thing about switching to bolt db is that I was no longer referencing data by their column names directly. this was a common thing in mongodb queries. where a map was used</p><pre>qty, err := conn.C(tblClub).Find(M{b: true}).Count()return qty > 0 && err == nil</pre><p>compared to mongodb, bolt loops through all records in the database. marshal the object into a struct if possible and compare using the struct directly in code. this helps to no longer reference the json type directly at all. it saves a far bit of code referencing constant global string variables everywhere.</p><p>it also meant 27 lines of code in buildbot were redundant - updating global constant values.</p><p>With the approach of standardising all http methods I can help but wonder if I am boxing myself into a situation where a different way of calling the server will not suit any existing ways. this will mean changing all form http listeners OR adding a new generic function to do similar functionality. This is especially suited to receiving data on both POST and GET requests. POST requests can assign sessions add return an error on the following request after submit. where as GET requests need to return the error directly.</p><p>+++ BOLT db. no more weird mongodb query syntax!</p><p>+BOLT no more using json schema properties in the go files. this was an unexpected advantage. and has simplified the code some what and removed all constant variables from schema.go</p><p>-bolt much less support from community if i'm unable to fix something</p><p>Sass has been written to have as few rules as possible. this means that each rule can be more complex. But doesn't involve setting a property and immediately un-setting it below or beforehand. This requires less scrolling to view a page but longer to decipher each rule.</p><p>++boltDB Fixed the issue in database connection with mongodb wasn't closed if the app crashed. Mongodb instance was left open. sometimes it would also leave behind a lock file so the db wasn't able to open. this was more common after restarting or hibinating the machine.<br>Project has less dependencies. + bolt - mongodb - mgo + less support</p><p>Git process. It's better to commit often with smaller changes that you have imediatly finished than try to do a big change over a few days. the commit becomes crazy with lots of files to review. small commits with less than say 8 files is really easy to review as it is fresh in your brain and not too big to become demotivated. Leaving un-committed changes more than a day or two is also hard. as they should/must be commited before moving onto something else. when this happens, instead of being motivated to do feature X with it roughly worked out how to tackle the task in your head, you are jurked into remembering what you did a few days ago. then you have to review the files which are normally quite a few if its not already committed; and I find this quite demotivating. as my enthusiasm has be in vain becuase I was knee jurked into a different task first up! Had a bit of isses with GIT. wanted to keep modifying folders in explorer but would have to revert in version control and do it in the IDE. because a rename would delete the original in git and create a new folder with all the child files as new commits as well. I found it frustrating. maybe turtle git would be a better fit for me? It was also annoying to have a sud directory of the main dir where every file changed would have to be committed twice. once for the source and the next one for the production modified one. Really unsure how to structure the project to prevent this happening at all? maybe just ignore this folder completly and turn the git ignore on and off for the file? and then commit in a big batch and don't bother reviewing the changes since the review was already done on the normal files? I think this would save a bit if my time! lets try it now then :) .</p><p>I had old copies of go1.1.2 source code so that might have been the second version I used.</p><p>found a way to reduce the number of template functions by instead using methods on structs. this makes templates much cleaner by calling inline methods without ().</p><p>-----boltDB one big negative is that it is harder to externally edit an event. this is sometimes required at events where something needs to change that EB doesn't support. I edited events in robomongo when needing to change shooters details or shots per range needed to be changed.</p><p>+bolt sometimes when EB crashed and took down mongodb with it, it would leave the mongodb lockfile. which would prevent the database opening next time EB started. This would mean the file had to be deleted manually and I had not programed it it find and delete the file.</p><p>Grades:I've never got shooting classes and grades fully implemented because it's never had enough flexibility to do what every one needs. Hopefully this time will be different. :)Hard coded system defaultsSystem overwritten with a json config fileloads every time EB is startedClub defaultsable to change all settingsEventable to change shots and sighters qtyRangeable to change shots and sighters qtyAlso want to switch between normal and one shot wonder. I have never tackled this part of it before.</p>{{end}}<hr>{{with .Reusables}}{{define "networkAdapters"}}<p>To access EventBucket from multiple devices within your local network, the following links might be available,<br><strong>Hostname</strong> (Windows devices): <a href=//{{.Hostname}}/about>{{.Hostname}}</a><br><strong>IP Address</strong> (Apple &amp; Android devices):{{range .IpAddresses}} <a href=//{{.}}/about>{{.}}</a>{{end}}</p>{{end}}{{define "listEvents"}}{{with .}}<ul>{{range .}}{{if not .Closed}}<li><a href=/entries/{{.ID}}>{{.Name}}</a>{{end}}{{end}}</ul>{{else}}<samp>No Events found</samp><p>Please view <a href=/archive>Archive</a> too see old events.{{end}}{{end}}{{define "tableShooters"}}{{with .}}<table><thead><th class=a>ID<th>Name<th>Club<th>Grade<th>Age Group</thead>{{range .}}<tr><td>{{.ID}}<td>{{.FirstName}} {{.Surname}}<td>{{.Club}}<td>{{grade .Grade}}<td>{{ageGroup .AgeGroup}}</tr>{{end}}</table>{{else}}<samp>No shooters listed.</samp>{{end}}{{end}}<hr>{{with .Scoreboard}}id={{.Event.ID}}{{end}}<hr>{{with .Scorecards}}{{/*<a href=%v%v>View Incompleted Shooters</a><a href=%v%v>View All Shooters</a>*/}}<form><label>Barcode: <input type=search autofocus></label><button>Search</button></form>{{with .Shooters}}<table><tr><th>ID<th>Grade<th>Club<th>Shooter<th>Total<th>Centers<th>{{range .}}{{if eq false .Hidden}}<tr{{/* id=.ID}} data-class=fclass*/}}><td>{{.ID}}<td>{{grade .Grade}}<td>{{.Club}}<td{{/* class=name*/}}>{{.FirstName}} {{.Surname}}<td>{{$score := index .Scores $.Range.Id}}<input name=t max=60 min=0 step=1 value={{$score.Total}} type=number autocomplete=off form={{.ID}}><td><input name=c max=10 min=0 step=1 value={{$score.Centers}} type=number autocomplete=off form={{.ID}}><td>{{/*<form method=post action=/13 id={{.ID}}><button name=S value={{.ID}}>Save</button><input name=E type=hidden value={{$.EventID}}><input name=R type=hidden value={{$.Range.ID}}></form>{{/*template "TotalScores"*/}}{{end}}{{end}}</table>{{else}}<samp>No shooters entered in this event.</samp>{{end}}{{end}}<hr>{{with .ShooterSearch}}{{with .ListShooters}}<option>{{range .}}<option{{attr " value" .Value}}>{{.Label}}{{end}}{{end}}{{end}}<hr>{{with .Shooters}}{{template "NewShooter" .NewShooter}}{{template "ShooterDetails" .ShooterDetails}}{{template "ShooterSearch" .ShooterSearch}}{{with .QtyShooters}}Total Shooters: {{.}}{{end}}{{template "tableShooters" .ListShooters}}{{end}}<hr>{{with .TotalScores}}{{/*<a href=%v%v>View Incompleted Shooters</a><a href=%v%v>View All Shooters</a>*/}}{{with .Shooters}}<table><tr><th>ID<th>Grade<th>Club<th>Shooter<th>Total<th>Centers<th>{{range .}}{{if eq false .Hidden}}<tr{{/* id=.ID}} data-class=fclass*/}}><td>{{.ID}}<td>{{grade .Grade}}<td>{{.Club}}<td{{/* class=name*/}}>{{.FirstName}} {{.Surname}}<td>{{$score := index .Scores $.Range.Id}}<input name=t max=60 min=0 step=1 value={{$score.Total}} type=number autocomplete=off form={{.ID}}><td><input name=c max=10 min=0 step=1 value={{$score.Centers}} type=number autocomplete=off form={{.ID}}><td><form method=post action=/13 id={{.ID}}><button name=S value={{.ID}}>Save</button><input name=E type=hidden value={{$.EventID}}><input name=R type=hidden value={{$.Range.ID}}></form>{{/*template "TotalScores"*/}}{{end}}{{end}}</table>{{else}}<samp>No shooters entered in this event.</samp>{{end}}{{end}}<hr>{{end}}