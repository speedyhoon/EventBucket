!function(){"use strict";function e(e){u[e.name]!==e.value&&(u[e.name]=e.value,u.first.length+u.surname.length+u.club.length>=2&&n())}function t(e){d.open("POST","/queryShooterGrade",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("shooterid="+e),d.onreadystatechange=function(){200===d.status&&(document.getElementById("palette").innerHTML=d.response.length?d.response:"No grades found.")}}function n(){d.open("POST","/queryShooterList",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("first="+u.first+"&surname="+u.surname+"&club="+u.club),d.onreadystatechange=function(){200===d.status&&(document.getElementById("sid").innerHTML=d.response.length?d.response:"<option value>0 shooters found.</option>",d.response.length&&t(document.getElementById("sid").value))}}function r(e){var t=document.querySelectorAll("#ShooterEntry [type=search]");if(e?document.getElementById("sid").setAttribute("required",""):document.getElementById("sid").removeAttribute("required"),input&&t.length)for(var n=t.length;--n;)e?t[n].removeAttribute("required"):t[n].setAttribute("required","")}var o=window.navigator.appVersion.match(/Chrome\/(\d+)\./),u={};if(!o){var i=document.createElement("a");i.class="update",i.href="//google.com/chrome/browser/features.html",i.target="_blank",i.textContent="EventBucket works best with Google Chrome",document.body.insertBefore(i,document.body.childNodes[0])}var d;window.XMLHttpRequest&&(d=new XMLHttpRequest);var c=document.querySelector("select#sid");c&&(c.onchange=function(e){return function(){t(e.value)}}(c));var s=document.querySelectorAll("#ShooterEntry input[type=search]"),l=function(t){return function(){e(t)}};if(s&&s.length)for(var a=-1;++a<s.length;)u[s[a].name]=s[a].value,s[a].onkeyup=l(s[a]);var m=document.querySelector("#ShooterEntry button"),f=function(e){return function(){r(e)}};if(m&&m.length)for(var a=m.length;--a;)m[a].onclick=f(m[a].getAttribute("formaction"));var h=document.getElementById("addExistingShooter");h&&(h.onclick=function(e){return function(){e.form.first.required=!1,e.form.surname.required=!1,e.form.club.required=!1,e.form.sid.required=!0}}(h));var g=document.getElementById("addNewShooter");g&&(g.onclick=function(e){return function(){e.form.first.required=!0,e.form.surname.required=!0,e.form.club.required=!0,e.form.sid.required=!1}}(g)),document.onload=function(){for(var e=document.forms,t=e.length,n=function(e){for(var t=e.querySelectorAll("button, input[type=submit], input[type=reset]"),n=t.length;n--;)console.log("disable button:",t[n]),t[n].disabled=!0};t--;)console.log("running on form: ",e[t]),e[t].onsubmit=n}}();